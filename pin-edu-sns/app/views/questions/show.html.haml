- htitle '老师问答'

- hbreadcrumb '首页', '/'
- hbreadcrumb '老师问答', '/questions'
- hbreadcrumb @question.title

.page-question-show
  .field.title
    %label 标题
    .v= @question.title

  .field.desc
    %label 问题
    .v= html_escape(@question.content).gsub(/\n/, '<br />').html_safe

  - if !@question.answer.blank?
    .field
      %label 答案
      .v= html_escape(@question.answer.content).gsub(/\n/, '<br />').html_safe

    - if current_user.is_teacher?
      .field
        .link.edit= link_to '编辑', 'javascript:;'

    .page-edit-form.hide
      = flash_info
      = form_for @question.answer do |f|
        =render 'answer_form', :f => f


  - else

    - if current_user.is_teacher?
      .page-form
        = flash_info
        = form_for Answer.new, :url => "/questions/#{@question.id}/answers" do |f|
          =render 'answer_form', :f => f

.page-admin-go-back= link_to '返回列表页', '/questions'

- if current_user.is_student?
  .page-admin-edit= link_to '编辑修改', "/questions/#{@question.id}/edit"