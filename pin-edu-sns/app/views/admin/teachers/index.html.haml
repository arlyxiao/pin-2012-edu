- htitle '教师维护'

- hbreadcrumb '基础数据管理', '/admin'
- hbreadcrumb '教师维护'

.page-fixed-head
  = page_buttons do |p|
    = p.button '增加教师记录', '/admin/teachers/new', :class=>'create'
    = p.button '批量导入教师', '/admin/teachers/import_from_csv_page', :class=>'import'

:ruby
  cols_hash = {
    :ops => 1,
    :real_name => 2,
    :tid => 2,
    :username => 2,
    :email => 4
  }

.page-list-head
  .headtop
    = page_buttons do |p|
      = p.button '删除', 'javascript:;', :class=>'batch-destroy', :'data-model'=>'Teacher'


    = list_pagination(@teachers)

  = page_list_head :cols=>cols_hash do |p|
    = p.checkbox
    = p.cell :ops, '操作'
    = p.cell :real_name, '教师姓名', :sortable=>true
    = p.cell :tid, '教师工号', :sortable=>true
    = p.cell :username, '用户名'
    = p.cell :email, '用户邮箱'

.page-model-list.admin-teachers
  - if @teachers.blank?
    .blank
      目前列表内没有内容
  - else
    - @teachers.each do |teacher|
      = page_list_body :cols=>cols_hash do |p|
        = p.checkbox
        = p.cell :ops do
          %a.edit{:href=>"/admin/teachers/#{teacher.id}/edit"} 编辑
        = p.cell :real_name do
          %a.edit{:href=>"/admin/teachers/#{teacher.id}"}= teacher.real_name
        = p.cell :tid, teacher.tid
        = p.cell :username, teacher.user.name
        = p.cell :email, teacher.user.email

