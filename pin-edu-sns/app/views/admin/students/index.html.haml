- htitle '学生维护'

- hbreadcrumb '基础数据管理', '/admin'
- hbreadcrumb '学生维护'

.generic-page-head.admin-students
  .btns
    %a.generic-new.create{:href=>'/admin/students/new'} 增加学生
    %a.generic-new.import{:href=>'/admin/students/import_from_csv_page'} 批量导入学生
    .search
      = jsearchbar '/admin/search/student'

  = table_pagination(@students)

  .cells
    .cell.ops 操作
    .cell.real-name= sortable 'real_name', '学生姓名'
    .cell.sid= sortable 'tid', '学生编号'
    .cell.username 用户名
    .cell.email 用户邮箱

.generic-body-list.admin-students
  - if @students.blank?
    .blank
      目前列表内没有内容
  - else
    - @students.each do |student|
      .generic-model
        .cell.ops
          - remove_url = admin_student_path(student)
          %a.remove{:href=>'javascript:;', :'data-url'=>remove_url} 删除
          %a.edit{:href=>"/admin/students/#{student.id}/edit"} 编辑
          %a.detail{:href=>"/admin/students/#{student.id}"} 详情
          
        .cell.real-name
          = student.real_name
        .cell.sid
          = student.sid
        .cell.username
          = student.user.name
        .cell.email
          = student.user.email
